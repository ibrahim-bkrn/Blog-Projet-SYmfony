{% extends 'base.html.twig' %}

{% block title %}Inscription - Mon Blog{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/forms.css') }}">
{% endblock %}

{% block body %}
<div class="register-container">
    <div class="register-box">
        <h1>Inscripton</h1>
        
        {% for flash_error in app.flashes('verify_email_error') %}
            <div class="alert">{{ flash_error }}</div>
        {% endfor %}
        
        {{ form_errors(registrationForm) }}
        
        <form method="post">
            <div class="form-group">
                <label for="registration_form_email">Email</label>
                {{ form_widget(registrationForm.email, {'attr': {'id': 'registration_form_email'}}) }}
                {% if registrationForm.email.vars.errors|length > 0 %}
                    <div class="form-error">{{ form_errors(registrationForm.email) }}</div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="registration_form_nom">Prénom</label>
                {{ form_widget(registrationForm.nom, {'attr': {'id': 'registration_form_nom'}}) }}
                {% if registrationForm.nom.vars.errors|length > 0 %}
                    <div class="form-error">{{ form_errors(registrationForm.nom) }}</div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="registration_form_prenom">Nom</label>
                {{ form_widget(registrationForm.prenom, {'attr': {'id': 'registration_form_prenom'}}) }}
                {% if registrationForm.prenom.vars.errors|length > 0 %}
                    <div class="form-error">{{ form_errors(registrationForm.prenom) }}</div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="registration_form_plainPassword">Mot de passe</label>
                {{ form_widget(registrationForm.plainPassword, {'attr': {'id': 'registration_form_plainPassword'}}) }}
                <div class="password-help">Au moins 6 caractères</div>
                {% if registrationForm.plainPassword.vars.errors|length > 0 %}
                    <div class="form-error">{{ form_errors(registrationForm.plainPassword) }}</div>
                {% endif %}
            </div>
            
            <div class="form-group checkbox">
                {{ form_widget(registrationForm.agreeTerms, {'attr': {'id': 'registration_form_agreeTerms'}}) }}
                <label for="registration_form_agreeTerms">J'accepte les conditions d'utilisation</label>
            </div>
            {% if registrationForm.agreeTerms.vars.errors|length > 0 %}
                <div class="form-error" style="margin-top: -15px; margin-bottom: 20px;">{{ form_errors(registrationForm.agreeTerms) }}</div>
            {% endif %}
            
            <button type="submit" class="btn">Créer un compte</button>
            
            {{ form_end(registrationForm) }}
        </form>
        
        <div class="form-footer">
            Vous avez déjà un compte? <a href="{{ path('app_login') }}">Connectez vous ici</a>
        </div>
    </div>
</div>


{% endblock %}